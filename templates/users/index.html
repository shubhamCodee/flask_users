{% extends "base.html" %}

{% block content %}

    <div class="border-b border-darkgray pb-4 mb-8 flex justify-between items-center">
        <div>
            <h1 class="text-3xl font-bold text-primary tracking-tight">User Manager</h1>
            <p class="text-secondary text-sm mt-1">Manage system access and roles.</p>
        </div>

        <!-- Link to the separate ADD page -->
        <a href="{{ url_for('user.add_user') }}" 
           class="bg-primary text-charcoal font-bold py-2 px-6 rounded hover:bg-white transition-all duration-200 shadow-lg hover:shadow-white/10">
            + Add New User
        </a>
    </div>

    <!-- User List Table -->
    <div class="bg-[#1E1E1E] border border-darkgray rounded-lg shadow-lg overflow-hidden">
        
        <div class="grid grid-cols-12 bg-[#121212] border-b border-darkgray text-secondary text-xs uppercase tracking-wider font-semibold p-4">
            <div class="col-span-4">Username</div>
            <div class="col-span-6">Email Address</div>
            <div class="col-span-2 text-right">Actions</div>
        </div>

        {% for user in users %}
            <div class="grid grid-cols-12 items-center p-4 border-b border-darkgray last:border-0 hover:bg-[#252525] transition-colors group">
                
                <div class="col-span-4 font-bold text-primary group-hover:text-white">
                    {{ user.username }}
                </div>
                
                <div class="col-span-6 text-secondary text-sm">
                    {{ user.email }}
                </div>

                <div class="col-span-2 flex justify-end gap-4 text-sm font-medium">
                    <a href="{{ url_for('user.update_user', id=user.id) }}" 
                       class="text-softgray hover:text-primary transition-colors">
                       Edit
                    </a>
                    <a href="{{ url_for('user.delete_user', id=user.id) }}" 
                       class="text-red-400/60 hover:text-red-400 transition-colors">
                       Delete
                    </a>
                </div>
            </div>
        {% else %}
            <div class="p-12 text-center text-secondary">
                <div class="text-4xl mb-4 opacity-30">ðŸ‘¥</div>
                <p>No users found in the system.</p>
                <p class="text-sm mt-2 text-darkgray">Click the button above to create one.</p>
            </div>
        {% endfor %}

    </div>

{% endblock %}